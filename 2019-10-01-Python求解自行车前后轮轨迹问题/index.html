<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="dothinking">
        <link rel="canonical" href="https://dothinking.github.io/2019-10-01-Python%E6%B1%82%E8%A7%A3%E8%87%AA%E8%A1%8C%E8%BD%A6%E5%89%8D%E5%90%8E%E8%BD%AE%E8%BD%A8%E8%BF%B9%E9%97%AE%E9%A2%98/">
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Python求解自行车前后轮轨迹问题 - 格致</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <link href="../css/extra.css" rel="stylesheet">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">格致</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href=".." class="nav-link">格致</a>
                            </li>
                            <li class="navitem">
                                <a href="../2012-05-21-%E4%B8%80%E8%B7%AF%E8%B5%B0%E6%9D%A5/" class="nav-link">一路走来</a>
                            </li>
                            <li class="navitem">
                                <a href="../2012-07-10-Marc%E8%B0%83%E7%94%A8Python%E8%84%9A%E6%9C%AC%E7%A8%8B%E5%BA%8F%E4%B8%AD%E5%85%B3%E4%BA%8E%E7%9B%AE%E5%BD%95%E6%93%8D%E4%BD%9C%E7%9A%84%E5%87%A0%E4%B8%AA%E9%97%AE%E9%A2%98/" class="nav-link">Marc调用Python脚本程序中关于目录操作的几个问题</a>
                            </li>
                            <li class="navitem">
                                <a href="../2012-07-26-Windows%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%8F%90%E4%BA%A4Marc%E8%AE%A1%E7%AE%97%E4%BB%BB%E5%8A%A1/" class="nav-link">Windows命令行提交Marc计算任务</a>
                            </li>
                            <li class="navitem">
                                <a href="../2012-07-27-MSC-Marc2011%E5%8D%95%E6%9C%BA%E5%A4%9A%E6%A0%B8%E5%B9%B6%E8%A1%8C%E8%AE%A1%E7%AE%97%E7%A4%BA%E4%BE%8B/" class="nav-link">MSC-Marc 2011单机多核并行计算示例</a>
                            </li>
                            <li class="navitem">
                                <a href="../2012-10-10-%E5%AE%9E%E4%BE%8B%E8%AF%B4%E6%98%8EVS2005%E3%80%81Python%E7%A8%8B%E5%BA%8F%E8%AF%BB%E5%86%99%E6%96%87%E4%BB%B6%E6%97%B6%E7%9A%84%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81%E9%97%AE%E9%A2%98/" class="nav-link">实例说明VS2005、Python程序读写文件时的字符编码问题</a>
                            </li>
                            <li class="navitem">
                                <a href="../2012-10-18-MSC.MARC-2010%E8%A1%A8%E6%A0%BC%E4%B9%8B%E5%88%9B%E5%BB%BA%E6%96%B9%E5%BC%8F/" class="nav-link">MSC.MARC 2010表格之创建方式</a>
                            </li>
                            <li class="navitem">
                                <a href="../2012-10-20-MSC.MARC-2010%E8%A1%A8%E6%A0%BC%E4%B9%8B%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%BC%8F/" class="nav-link">MSC.MARC 2010表格之数据模式</a>
                            </li>
                            <li class="navitem">
                                <a href="../2012-10-21-MSC.MARC-2010%E5%88%9A%E6%80%A7%E6%8E%A5%E8%A7%A6%E4%BD%93%E8%BF%90%E5%8A%A8%E8%AE%BE%E7%BD%AE/" class="nav-link">MSC.MARC 2010刚性接触体运动设置</a>
                            </li>
                            <li class="navitem">
                                <a href="../2013-06-13-UG%E8%BF%90%E5%8A%A8%E4%BB%BF%E7%9C%9F%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/" class="nav-link">UG运动仿真学习记录</a>
                            </li>
                            <li class="navitem">
                                <a href="../2013-07-29-Levy-Mises%E7%90%86%E8%AE%BA%E7%9A%84%E6%80%9D%E8%80%83/" class="nav-link">Levy Mises理论的思考</a>
                            </li>
                            <li class="navitem">
                                <a href="../2013-07-30-%E5%BA%94%E5%8A%9B%E5%BC%A0%E9%87%8F%E7%9A%84%E8%AE%A4%E8%AF%86%E4%B9%8B%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/" class="nav-link">应力张量的认识之基本概念</a>
                            </li>
                            <li class="navitem">
                                <a href="../2013-07-30-%E5%BA%94%E5%8A%9B%E5%BC%A0%E9%87%8F%E7%9A%84%E8%AE%A4%E8%AF%86%E4%B9%8B%E7%BA%BF%E6%80%A7%E5%8F%98%E6%8D%A2/" class="nav-link">应力张量的认识之线性变换</a>
                            </li>
                            <li class="navitem">
                                <a href="../2013-07-31-%E5%BA%94%E5%8A%9B%E5%BC%A0%E9%87%8F%E7%9A%84%E8%AE%A4%E8%AF%86%E4%B9%8B%E7%BA%BF%E6%80%A7%E5%8F%98%E6%8D%A2%E7%9A%84%E8%AF%81%E6%98%8E/" class="nav-link">应力张量的认识之线性变换的证明</a>
                            </li>
                            <li class="navitem">
                                <a href="../2013-08-05-UG-NX-%E8%A7%92%E8%89%B2%E5%AE%9A%E5%88%B6%E4%B8%8E%E5%BA%94%E7%94%A8/" class="nav-link">UG NX角色定制与应用</a>
                            </li>
                            <li class="navitem">
                                <a href="../2013-09-28-ThinkPHP%E8%87%AA%E5%8A%A8%E9%AA%8C%E8%AF%81%E4%B9%8Bunique%E8%A7%84%E5%88%99%E7%9A%84%E9%97%AE%E9%A2%98%E5%92%8C%E7%90%86%E8%A7%A3/" class="nav-link">ThinkPHP自动验证之unique规则的问题和理解</a>
                            </li>
                            <li class="navitem">
                                <a href="../2013-10-19-ThinkPHP%E6%A1%86%E6%9E%B6%E4%B8%8BMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%87%E4%BB%BD%E8%BF%98%E5%8E%9F%E7%B1%BB/" class="nav-link">ThinkPHP框架下MySQL数据库备份还原类</a>
                            </li>
                            <li class="navitem">
                                <a href="../2013-10-31-Sublime-Text-2%E4%B8%AD%E8%BF%90%E8%A1%8CPython%E7%A8%8B%E5%BA%8F/" class="nav-link">Sublime Text 2中运行Python程序</a>
                            </li>
                            <li class="navitem">
                                <a href="../2014-07-02-Sublime-Text-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%A2%9C%E8%89%B2%E4%B8%BB%E9%A2%98/" class="nav-link">Sublime Text 自定义颜色主题</a>
                            </li>
                            <li class="navitem">
                                <a href="../2014-11-28-%E4%B8%8A%E9%99%90%E6%B3%95%E5%A1%91%E6%80%A7%E5%8A%9F%E6%95%B0%E5%80%BC%E7%A7%AF%E5%88%86%E7%AE%97%E4%BE%8B%E4%B9%8B%E4%BA%8C%E9%87%8D%E7%A7%AF%E5%88%86/" class="nav-link">上限法塑性功数值积分算例之二重积分</a>
                            </li>
                            <li class="navitem">
                                <a href="../2014-12-19-Gauss-Legendre%E4%BA%8C%E9%87%8D%E6%95%B0%E5%80%BC%E7%A7%AF%E5%88%86/" class="nav-link">Gauss Legendre二重数值积分</a>
                            </li>
                            <li class="navitem">
                                <a href="../2014-12-22-NumPy%E5%BA%93frompyfunc%E4%B8%8Evectorize%E7%9A%84%E6%AF%94%E8%BE%83/" class="nav-link">NumPy库frompyfunc与vectorize的比较</a>
                            </li>
                            <li class="navitem">
                                <a href="../2014-12-24-%E4%B8%8A%E9%99%90%E6%B3%95%E5%A1%91%E6%80%A7%E5%8A%9F%E6%95%B0%E5%80%BC%E7%A7%AF%E5%88%86%E7%AE%97%E4%BE%8B%E4%B9%8B%E4%B8%89%E9%87%8D%E7%A7%AF%E5%88%86/" class="nav-link">上限法塑性功数值积分算例之三重积分</a>
                            </li>
                            <li class="navitem">
                                <a href="../2015-06-16-SAE%E7%8E%AF%E5%A2%83%E4%B8%8B%E4%BD%BF%E7%94%A8MySQLReback%E5%A4%87%E4%BB%BD%E8%BF%98%E5%8E%9FMySQL%E6%95%B0%E6%8D%AE%E5%BA%93/" class="nav-link">SAE环境下使用MySQLReback备份还原MySQL数据库</a>
                            </li>
                            <li class="navitem">
                                <a href="../2015-06-17-SAE%E7%8E%AF%E5%A2%83%E4%B8%8B%E4%BD%BF%E7%94%A8PHPExcel%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE/" class="nav-link">SAE环境下使用PHPExcel导入数据</a>
                            </li>
                            <li class="navitem">
                                <a href="../2015-11-04-%E7%A8%8B%E5%BA%8F%E5%AE%9E%E7%8E%B0%E7%A4%BE%E4%BC%9A%E6%A0%B8%E7%AE%97%E7%9F%A9%E9%98%B5%EF%BC%88SAM%EF%BC%89%E7%9A%84%E8%B4%A6%E6%88%B7%E9%9B%86%E7%BB%93%E4%B8%8E%E5%B9%B3%E8%A1%A1/" class="nav-link">程序实现社会核算矩阵（SAM）的账户集结与平衡</a>
                            </li>
                            <li class="navitem">
                                <a href="../2015-11-15-python%E4%B8%AD%E4%BD%BF%E7%94%A8mlab%E5%BA%93%E5%AE%9E%E7%8E%B0%E4%B8%8EMATLAB%E4%BA%A4%E4%BA%92/" class="nav-link">python中使用mlab库实现与MATLAB交互</a>
                            </li>
                            <li class="navitem">
                                <a href="../2016-01-20-%E4%BD%BF%E7%94%A8Python%E5%AF%BC%E5%87%BAMSC.Marc%E5%90%8E%E5%A4%84%E7%90%86%E6%95%B0%E6%8D%AE/" class="nav-link">使用Python导出MSC.Marc后处理数据</a>
                            </li>
                            <li class="navitem">
                                <a href="../2016-11-05-%E6%95%B4%E5%90%88UEditor%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0%E6%A8%A1%E5%9D%97%E4%B8%BA%E4%B8%8A%E4%BC%A0%E6%8F%92%E4%BB%B6/" class="nav-link">整合UEditor图片上传模块为上传插件</a>
                            </li>
                            <li class="navitem">
                                <a href="../2017-01-07-%E5%AD%A6%E4%BD%8D%E8%AE%BA%E6%96%87%E5%86%99%E4%BD%9C%E4%B8%AD%E7%9A%84%E8%BD%AF%E4%BB%B6%E7%BB%84%E5%90%88/" class="nav-link">学位论文写作中的软件组合</a>
                            </li>
                            <li class="navitem">
                                <a href="../2017-03-08-%E7%90%83%E9%9D%A2%E8%B7%9D%E7%A6%BB%E4%B8%8E%E6%96%B9%E4%BD%8D%E8%A7%92%E5%85%AC%E5%BC%8F%E7%9A%84%E6%8E%A8%E5%AF%BC%EF%BC%9A%E8%A7%A3%E4%B8%89%E8%A7%92%E5%BD%A2%E6%B3%95/" class="nav-link">球面距离与方位角公式的推导：解三角形法</a>
                            </li>
                            <li class="navitem">
                                <a href="../2017-03-09-%E7%90%83%E9%9D%A2%E8%B7%9D%E7%A6%BB%E4%B8%8E%E6%96%B9%E4%BD%8D%E8%A7%92%E5%85%AC%E5%BC%8F%E7%9A%84%E6%8E%A8%E5%AF%BC%EF%BC%9A%E5%90%91%E9%87%8F%E4%BB%A3%E6%95%B0%E6%B3%95/" class="nav-link">球面距离与方位角公式的推导：向量代数法</a>
                            </li>
                            <li class="navitem">
                                <a href="../2017-04-24-Selenium%2BPhantomJS%E6%97%A0%E6%B3%95%E8%BE%93%E5%85%A5%E6%96%87%E6%9C%AC%E5%8F%8A%E5%85%B6%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/" class="nav-link">Selenium PhantomJS无法输入文本及其解决方法</a>
                            </li>
                            <li class="navitem">
                                <a href="../2017-04-24-Selenium-Python%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%E5%A4%87%E5%BF%98/" class="nav-link">Selenium Python基本操作备忘</a>
                            </li>
                            <li class="navitem">
                                <a href="../2017-07-23-Microsoft-Excel-2010%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8A%9F%E8%83%BD%E5%8C%BA%28%E4%B8%80%29/" class="nav-link">Microsoft Excel 2010自定义功能区(一)</a>
                            </li>
                            <li class="navitem">
                                <a href="../2017-07-24-Microsoft-Excel-2010%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8A%9F%E8%83%BD%E5%8C%BA%28%E4%BA%8C%29/" class="nav-link">Microsoft Excel 2010自定义功能区(二)</a>
                            </li>
                            <li class="navitem">
                                <a href="../2017-07-31-%E8%87%AA%E5%AE%9A%E4%B9%89Microsoft-Excel-2010-Ribbon%E8%8F%9C%E5%8D%95%E9%A1%B9Enable%E7%8A%B6%E6%80%81/" class="nav-link">自定义Microsoft Excel 2010 Ribbon菜单项Enable状态</a>
                            </li>
                            <li class="navitem">
                                <a href="../2017-08-08-NXOpen-CAE%E5%BC%80%E5%8F%91%E6%80%BB%E7%BB%93%E7%B3%BB%E5%88%97%EF%BC%9AGroups%E4%B8%8ERegions/" class="nav-link">NXOpen CAE开发总结系列：Groups与Regions</a>
                            </li>
                            <li class="navitem">
                                <a href="../2017-08-27-NXOpen%EF%BC%9A%E5%AF%B9%E8%AF%9D%E6%A1%86%E7%9A%84%E8%AE%A4%E8%AF%86/" class="nav-link">NXOpen：对话框的认识</a>
                            </li>
                            <li class="navitem">
                                <a href="../2017-09-01-NXOpen%EF%BC%9AMenu-Script%E8%87%AA%E5%AE%9A%E4%B9%89%E8%8F%9C%E5%8D%95/" class="nav-link">NXOpen：Menu Script自定义菜单</a>
                            </li>
                            <li class="navitem">
                                <a href="../2017-10-10-%E5%85%BC%E5%AE%B9Windows%E5%92%8CLinux%E7%9A%84C%2B%2B%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5%E5%BA%93%E6%A8%A1%E6%9D%BF/" class="nav-link">兼容Windows和Linux的C++动态链接库模板</a>
                            </li>
                            <li class="navitem">
                                <a href="../2017-11-25-VBA%E8%AE%BE%E7%BD%AE%E7%94%A8%E6%88%B7%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/" class="nav-link">VBA设置用户环境变量</a>
                            </li>
                            <li class="navitem">
                                <a href="../2017-11-30-VBA%E8%B0%83%E7%94%A8C%2B%2B%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5%E5%BA%93/" class="nav-link">VBA调用C++动态链接库</a>
                            </li>
                            <li class="navitem">
                                <a href="../2017-12-12-NXOpen%EF%BC%9AExpression%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%9F%BA%E6%9C%AC%E5%8D%95%E4%BD%8D/" class="nav-link">NXOpen：Expression类型与基本单位</a>
                            </li>
                            <li class="navitem">
                                <a href="../2018-01-12-%E4%BD%BF%E7%94%A8subprocess%E6%A8%A1%E5%9D%97%E8%B0%83%E7%94%A8%E5%AD%90%E8%BF%9B%E7%A8%8B%E5%B9%B6%E8%8E%B7%E5%8F%96%E8%BE%93%E5%87%BA/" class="nav-link">2018 01 12 使用subprocess模块调用子进程并获取输出</a>
                            </li>
                            <li class="navitem">
                                <a href="../2018-01-13-PyQt%E4%BD%BF%E7%94%A8QProcess%E8%B0%83%E7%94%A8%E5%AD%90%E8%BF%9B%E7%A8%8B%E5%B9%B6%E8%8E%B7%E5%8F%96%E8%BE%93%E5%87%BA/" class="nav-link">2018 01 13 PyQt使用QProcess调用子进程并获取输出</a>
                            </li>
                            <li class="navitem">
                                <a href="../2018-01-23-%E8%87%AA%E5%AE%9A%E4%B9%89Microsoft-Office-Ribbon%E5%8C%BA%E5%9F%9F/" class="nav-link">2018 01 23 自定义Microsoft Office Ribbon区域</a>
                            </li>
                            <li class="navitem">
                                <a href="../2018-02-07-Python3%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B%EF%BC%9A%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/" class="nav-link">2018 02 07 Python3代码示例：基本操作</a>
                            </li>
                            <li class="navitem">
                                <a href="../2018-02-08-Python3%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C/" class="nav-link">2018 02 08 Python3代码示例：字符串操作</a>
                            </li>
                            <li class="navitem">
                                <a href="../2018-02-09-Python3%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B%EF%BC%9A%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%E6%93%8D%E4%BD%9C/" class="nav-link">2018 02 09 Python3代码示例：文件目录操作</a>
                            </li>
                            <li class="navitem">
                                <a href="../2018-04-05-NXOpen-CAE%E5%BC%80%E5%8F%91%E6%80%BB%E7%BB%93%E7%B3%BB%E5%88%97%EF%BC%9AAdvanced-Simulation%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84/" class="nav-link">2018 04 05 NXOpen CAE开发总结系列：Advanced Simulation文件结构</a>
                            </li>
                            <li class="navitem">
                                <a href="../2018-05-04-NXOpen%EF%BC%9A%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7%E6%93%8D%E4%BD%9C/" class="nav-link">2018 05 04 NXOpen：对象属性操作</a>
                            </li>
                            <li class="navitem">
                                <a href="../2018-05-06-NXOpen-CAE%E5%BC%80%E5%8F%91%E6%80%BB%E7%BB%93%E7%B3%BB%E5%88%97%EF%BC%9A%E4%B8%BB%E8%A6%81%E7%B1%BB%E7%BB%93%E6%9E%84%E5%9B%BE/" class="nav-link">2018 05 06 NXOpen CAE开发总结系列：主要类结构图</a>
                            </li>
                            <li class="navitem">
                                <a href="../2018-06-25-NXOpen-CAE%E5%BC%80%E5%8F%91%E6%80%BB%E7%BB%93%E7%B3%BB%E5%88%97%EF%BC%9AFEM-SIM%E6%A8%A1%E5%9E%8B%E4%B8%ADPolygon-Body%E7%9A%84%E5%90%8D%E7%A7%B0/" class="nav-link">2018 06 25 NXOpen CAE开发总结系列：FEM SIM模型中Polygon Body的名称</a>
                            </li>
                            <li class="navitem">
                                <a href="../2018-07-01-NXOpen-CAE%E5%BC%80%E5%8F%91%E6%80%BB%E7%BB%93%E7%B3%BB%E5%88%97%EF%BC%9A%E4%BB%8EANSYS-APDL%E8%A7%92%E5%BA%A6%E7%9C%8B%E5%BE%85Mesh/" class="nav-link">2018 07 01 NXOpen CAE开发总结系列：从ANSYS APDL角度看待Mesh</a>
                            </li>
                            <li class="navitem">
                                <a href="../2018-09-28-NXOpen%EF%BC%9A%E7%A6%81%E7%94%A8%E8%8F%9C%E5%8D%95%E9%A1%B9/" class="nav-link">2018 09 28 NXOpen：禁用菜单项</a>
                            </li>
                            <li class="navitem">
                                <a href="../2018-10-21-Python-Package-__init__%E8%A7%A3%E6%9E%90/" class="nav-link">2018 10 21 Python Package   init  解析</a>
                            </li>
                            <li class="navitem">
                                <a href="../2018-10-21-%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95%EF%BC%9A%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E5%8F%8APython%E5%AE%9E%E7%8E%B0/" class="nav-link">2018 10 21 遗传算法：基本原理及Python实现</a>
                            </li>
                            <li class="navitem">
                                <a href="../2018-10-25-%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95%EF%BC%9A%E6%94%B9%E8%BF%9B%E6%96%B9%E5%90%91%E4%B9%8B%E8%87%AA%E9%80%82%E5%BA%94%E7%AD%96%E7%95%A5/" class="nav-link">2018 10 25 遗传算法：改进方向之自适应策略</a>
                            </li>
                            <li class="navitem">
                                <a href="../2018-10-27-%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95%EF%BC%9A%E6%94%B9%E8%BF%9B%E6%96%B9%E5%90%91%E4%B9%8B%E7%B2%BE%E8%8B%B1%E7%AD%96%E7%95%A5/" class="nav-link">2018 10 27 遗传算法：改进方向之精英策略</a>
                            </li>
                            <li class="navitem">
                                <a href="../2018-10-31-GitLab-CI-CD%E5%8A%9F%E8%83%BD%E4%BB%8B%E7%BB%8D/" class="nav-link">2018 10 31 GitLab CI CD功能介绍</a>
                            </li>
                            <li class="navitem">
                                <a href="../2018-11-05-%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95%EF%BC%9A%E6%B5%8B%E8%AF%95%E6%A1%88%E4%BE%8B%E4%B9%8B%E5%87%BD%E6%95%B0%E6%9E%81%E5%80%BC/" class="nav-link">2018 11 05 遗传算法：测试案例之函数极值</a>
                            </li>
                            <li class="navitem">
                                <a href="../2019-01-28-%E9%9B%86%E6%88%90python%E7%9A%84Excel%E6%8F%92%E4%BB%B6%E6%A8%A1%E6%9D%BFPyAddin%E2%80%94%E2%80%94%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/" class="nav-link">2019 01 28 集成python的Excel插件模板PyAddin——使用说明</a>
                            </li>
                            <li class="navitem">
                                <a href="../2019-01-28-%E9%9B%86%E6%88%90python%E7%9A%84Excel%E6%8F%92%E4%BB%B6%E6%A8%A1%E6%9D%BFPyAddin%E2%80%94%E2%80%94%E5%8E%9F%E7%90%86%E4%BB%8B%E7%BB%8D/" class="nav-link">2019 01 28 集成python的Excel插件模板PyAddin——原理介绍</a>
                            </li>
                            <li class="navitem">
                                <a href="../2019-03-24-PyQt5%E5%BA%94%E7%94%A8%E5%AE%9E%E8%B7%B5%E4%B9%8B%E4%B8%AA%E4%BA%BA%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7Tagit/" class="nav-link">2019 03 24 PyQt5应用实践之个人知识管理工具Tagit</a>
                            </li>
                            <li class="navitem">
                                <a href="../2019-04-20-VBA%E8%B0%83%E7%94%A8%E5%A4%96%E9%83%A8%E5%87%BD%E6%95%B0%EF%BC%88%E5%B7%A5%E4%BD%9C%E7%B0%BF-COM%E9%93%BE%E6%8E%A5%E5%BA%93-C%E9%93%BE%E6%8E%A5%E5%BA%93%EF%BC%89%E6%96%B9%E6%B3%95/" class="nav-link">2019 04 20 VBA调用外部函数（工作簿 COM链接库 C链接库）方法</a>
                            </li>
                            <li class="navitem">
                                <a href="../2019-04-21-Python-win32com%E6%A8%A1%E5%9D%97%E6%93%8D%E4%BD%9CExcel%E7%9A%84%E5%87%A0%E4%B8%AA%E5%BA%94%E7%94%A8%EF%BC%88%E4%B8%80%EF%BC%89/" class="nav-link">2019 04 21 Python win32com模块操作Excel的几个应用（一）</a>
                            </li>
                            <li class="navitem">
                                <a href="../2019-05-02-%E8%8E%B7%E5%8F%96Excel%E5%85%AC%E5%BC%8F%E7%9A%84%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB%EF%BC%88Python%E5%AE%9E%E7%8E%B0%EF%BC%89/" class="nav-link">2019 05 02 获取Excel公式的依赖关系（Python实现）</a>
                            </li>
                            <li class="navitem">
                                <a href="../2019-05-22-Matplotlib%E5%A4%9A%E7%BA%B5%E8%BD%B4%EF%BC%88%E5%AF%84%E7%94%9F%E8%BD%B4%EF%BC%89%E6%95%A3%E7%82%B9%E5%9B%BE/" class="nav-link">2019 05 22 Matplotlib多纵轴（寄生轴）散点图</a>
                            </li>
                            <li class="navitem">
                                <a href="../2019-08-18-C%2B%2B-DLL%E4%B8%8EVBA%E4%B9%8B%E9%97%B4%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%BC%A0%E9%80%92%EF%BC%9A%EF%BC%88%E4%B8%80%EF%BC%89%E8%BF%94%E5%9B%9E%E5%AD%97%E7%AC%A6%E4%B8%B2/" class="nav-link">2019 08 18 C++ DLL与VBA之间的字符串传递：（一）返回字符串</a>
                            </li>
                            <li class="navitem">
                                <a href="../2019-08-31-C%2B%2B-DLL%E4%B8%8EVBA%E4%B9%8B%E9%97%B4%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%BC%A0%E9%80%92%EF%BC%9A%EF%BC%88%E4%BA%8C%EF%BC%89%E4%BC%A0%E5%85%A5%E5%AD%97%E7%AC%A6%E4%B8%B2/" class="nav-link">2019 08 31 C++ DLL与VBA之间的字符串传递：（二）传入字符串</a>
                            </li>
                            <li class="navitem">
                                <a href="../2019-09-13-Python-win32com%E6%A8%A1%E5%9D%97%E6%93%8D%E4%BD%9CExcel%E7%9A%84%E5%87%A0%E4%B8%AA%E5%BA%94%E7%94%A8%EF%BC%88%E4%BA%8C%EF%BC%89/" class="nav-link">2019 09 13 Python win32com模块操作Excel的几个应用（二）</a>
                            </li>
                            <li class="navitem">
                                <a href="../2019-09-14-%E4%BB%A5Windows%E6%9C%8D%E5%8A%A1%E6%96%B9%E5%BC%8F%E8%BF%90%E8%A1%8CExcel%E8%87%AA%E5%8A%A8%E5%8C%96%E7%A8%8B%E5%BA%8F%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E4%B8%8E%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/" class="nav-link">2019 09 14 以Windows服务方式运行Excel自动化程序遇到的问题与解决方法</a>
                            </li>
                            <li class="navitem active">
                                <a href="./" class="nav-link">Python求解自行车前后轮轨迹问题</a>
                            </li>
                            <li class="navitem">
                                <a href="../2019-12-29-GitLab-CI-CD%E4%B9%8Bbefore_script%E5%92%8Cafter_script/" class="nav-link">2019 12 29 GitLab CI CD之before script和after script</a>
                            </li>
                            <li class="navitem">
                                <a href="../2020-02-27-TensorFlow%E8%87%AA%E5%AE%9A%E4%B9%89%E6%95%B0%E6%8D%AE%E9%9B%86%EF%BC%881%EF%BC%89%EF%BC%9Atf.data.Dataset/" class="nav-link">2020 02 27 TensorFlow自定义数据集（1）：tf.data.Dataset</a>
                            </li>
                            <li class="navitem">
                                <a href="../2020-02-28-TensorFlow%E8%87%AA%E5%AE%9A%E4%B9%89%E6%95%B0%E6%8D%AE%E9%9B%86%EF%BC%882%EF%BC%89%EF%BC%9Atf.data.TFRecordDataset/" class="nav-link">2020 02 28 TensorFlow自定义数据集（2）：tf.data.TFRecordDataset</a>
                            </li>
                            <li class="navitem">
                                <a href="../2020-03-01-2020%E8%AF%BB%E4%B9%A6%E8%AE%A1%E5%88%92%EF%BC%881%EF%BC%89%EF%BC%9ATensorFlow%E6%8A%80%E6%9C%AF%E8%A7%A3%E6%9E%90%E4%B8%8E%E5%AE%9E%E6%88%98/" class="nav-link">2020 03 01 2020读书计划（1）：TensorFlow技术解析与实战</a>
                            </li>
                            <li class="navitem">
                                <a href="../2020-07-13-pdf2docx%E5%BC%80%E5%8F%91%E6%A6%82%E8%A6%81/" class="nav-link">2020 07 13 pdf2docx开发概要</a>
                            </li>
                            <li class="navitem">
                                <a href="../2020-09-27-pdf2docx%E5%BC%80%E5%8F%91%E6%A6%82%E8%A6%81%E4%B9%8B%E5%AF%B9%E9%BD%90%E9%9A%90%E5%BC%8F%E8%A1%A8%E6%A0%BC%E7%BA%BF/" class="nav-link">2020 09 27 pdf2docx开发概要之对齐隐式表格线</a>
                            </li>
                            <li class="navitem">
                                <a href="../2020-10-01-pdf2docx%E5%BC%80%E5%8F%91%E6%A6%82%E8%A6%81%E4%B9%8B%E7%9F%A2%E9%87%8F%E5%9B%BE%E5%A4%84%E7%90%86/" class="nav-link">2020 10 01 pdf2docx开发概要之矢量图处理</a>
                            </li>
                            <li class="navitem">
                                <a href="../2020-10-15-pdf2docx%E5%BC%80%E5%8F%91%E6%A6%82%E8%A6%81%E4%B9%8B%E8%8E%B7%E5%8F%96%E5%9B%BE%E7%89%87%E5%8F%8A%E5%85%B6%E4%BD%8D%E7%BD%AE/" class="nav-link">2020 10 15 pdf2docx开发概要之获取图片及其位置</a>
                            </li>
                            <li class="navitem">
                                <a href="../2020-10-25-pdf2docx%E5%BC%80%E5%8F%91%E6%A6%82%E8%A6%81%E4%B9%8B%E5%88%9B%E5%BB%BA%E6%B5%AE%E5%8A%A8%E5%9B%BE%E7%89%87/" class="nav-link">2020 10 25 pdf2docx开发概要之创建浮动图片</a>
                            </li>
                            <li class="navitem">
                                <a href="../2021-01-02-Python%E5%A4%84%E7%90%86PDF%E7%9A%84%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E5%AF%B9%E6%AF%94/" class="nav-link">2021 01 02 Python处理PDF的第三方库对比</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Categories <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../categories/2012/" class="dropdown-item">2012</a>
</li>
                                    
<li>
    <a href="../categories/2013/" class="dropdown-item">2013</a>
</li>
                                    
<li>
    <a href="../categories/2014/" class="dropdown-item">2014</a>
</li>
                                    
<li>
    <a href="../categories/2015/" class="dropdown-item">2015</a>
</li>
                                    
<li>
    <a href="../categories/2016/" class="dropdown-item">2016</a>
</li>
                                    
<li>
    <a href="../categories/2017/" class="dropdown-item">2017</a>
</li>
                                    
<li>
    <a href="../categories/2018/" class="dropdown-item">2018</a>
</li>
                                    
<li>
    <a href="../categories/2019/" class="dropdown-item">2019</a>
</li>
                                    
<li>
    <a href="../categories/2020/" class="dropdown-item">2020</a>
</li>
                                    
<li>
    <a href="../categories/2021/" class="dropdown-item">2021</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../2019-09-14-%E4%BB%A5Windows%E6%9C%8D%E5%8A%A1%E6%96%B9%E5%BC%8F%E8%BF%90%E8%A1%8CExcel%E8%87%AA%E5%8A%A8%E5%8C%96%E7%A8%8B%E5%BA%8F%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E4%B8%8E%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../2019-12-29-GitLab-CI-CD%E4%B9%8Bbefore_script%E5%92%8Cafter_script/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/dothinking/dothinking.github.io/edit/master/docs/2019-10-01-Python求解自行车前后轮轨迹问题.md" class="nav-link"><i class="fa fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#python" class="nav-link">Python求解自行车前后轮轨迹问题</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#_1" class="nav-link">数学模型</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#_2" class="nav-link">常微分方程数值解</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#python_1" class="nav-link">Python求解方案</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#_3" class="nav-link">验证</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#_4" class="nav-link">结果展示</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="python">Python求解自行车前后轮轨迹问题<a class="headerlink" href="#python" title="Permanent link">&para;</a></h1>
<p>数月前偶遇一道自行车相关的趣味数学题：根据下图[<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup>]所示自行车前、后轮轨迹，判断自行车的前进方向，是从左往右还是从右往左？</p>
<div align='center'><img src="{{ "/images/2019-10-01-01.png" | prepend: site.baseurl }}"></div>

<p>不曾想过，平常无奇的自行车的两轮之间还蕴藏着恒定的规律。 在赞叹答案思路清奇之余，也萌生了基于前轮轨迹求解后轮轨迹的想法。本文首先建立自行车轨迹问题的数学模型（常微分方程），然后利用Python的<code>scipy.odeint</code>进行求解，最后对问题的解进行可视化。</p>
<h2 id="_1">数学模型<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>文章开头的问题最早出自《Which Way did the Bicycle Go? … and Other Intriguing Mathematical Mysteries》一书，封面用的即是这道看似无法求解的问题。福尔摩斯探案集系列中也设计了类似的案件，可惜给出的却不是正确的解释。</p>
<div align='center'><img src="{{ "/images/2019-10-01-02.jpg" | prepend: site.baseurl }}"></div>

<p>这其实是一道精彩的几何问题。考虑一下自行车的结构和运动特点：前轮可以自由控制行进方向，而后轮因为焊死在车架上而只能沿着车身方向行进。因此，后轮轨迹曲线上任一点的切线方向即为车身方向，并且该方向与前轮轨迹曲线的交点即为自行车前后轮轮毂中心的距离，而这保持一个定长（车身长度）。用数学语言描述为：</p>
<p><strong>作后轮曲线上任一点<code>P</code>的切线，得到与前轮轨迹曲线的交点<code>Q</code>，则线段<code>PQ</code>保持定长</strong>。</p>
<p>所以解题方法为，分别假设前后轮轨迹，然后按照上述结论进行验证。本题答案为自行车从左向右行驶，具体参考下图：</p>
<div align='center'><img src="{{ "/images/2019-10-01-03.png" | prepend: site.baseurl }}"></div>
<div align='center'><img src="{{ "/images/2019-10-01-04.png" | prepend: site.baseurl }}"></div>

<p>开篇的问题解决了，接下来进入正题：已知任意给定的前轮轨迹，如何求解相应的后轮轨迹？为方便起见，我们用参数方程来描述曲线上任一点的坐标<span><span class="MathJax_Preview">(x,y)</span><script type="math/tex">(x,y)</script></span>，例如已知前轮轨迹<span><span class="MathJax_Preview">x=\alpha(t), y=\beta(t)</span><script type="math/tex">x=\alpha(t), y=\beta(t)</script></span>，求解后轮轨迹<span><span class="MathJax_Preview">x=x(t), y=y(t)</span><script type="math/tex">x=x(t), y=y(t)</script></span>。</p>
<p>由定长条件<span><span class="MathJax_Preview">\|\overrightarrow{PQ}\|=L</span><script type="math/tex">\|\overrightarrow{PQ}\|=L</script></span>得到：</p>
<p>\begin{equation*}
(x-\alpha)<sup>2+(y-\beta)</sup>2=L^2
\end{equation*}</p>
<p>上式对参数<span><span class="MathJax_Preview">t</span><script type="math/tex">t</script></span>求导：</p>
<p>\begin{equation*}
(x-\alpha)*(x'-\alpha')+(y-\beta)(y'-\beta')=0
\end{equation*}</p>
<p>另一方面，由<span><span class="MathJax_Preview">\overrightarrow{PQ}//\overrightarrow{\tau}</span><script type="math/tex">\overrightarrow{PQ}//\overrightarrow{\tau}</script></span>得到：</p>
<p>\begin{equation*}
\frac{y'}{x'}=\frac{y-\beta}{x-\alpha}
\end{equation*}</p>
<p>联立以上两个式子即可得到：</p>
<p>\begin{align*}
x' &amp;= \frac{x-\alpha}{L^2} \left[\alpha'(x-\alpha)+\beta'(y-\beta)\right] \\\
y' &amp;= \frac{y-\beta}{L^2} \left[\alpha'(x-\alpha)+\beta'(y-\beta)\right] \\\
\end{align*}</p>
<div align='center'><img src="{{ "/images/2019-10-01-05.png" | prepend: site.baseurl }}"></div>

<h2 id="_2">常微分方程数值解<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p>上式表明这是一个常微分方程组求解问题。只有当前轮轨迹是某些非常简单的曲线时，后轮轨迹才有可能被解析求解，所以本文采用的是数值求解的方法。</p>
<p>欧拉在求解形如<span><span class="MathJax_Preview">y'(x)=f(x, y)</span><script type="math/tex">y'(x)=f(x, y)</script></span>的微分方程的数值解问题上给出了一些标准解法。本文待求解的方程组中<span><span class="MathJax_Preview">\alpha, \beta</span><script type="math/tex">\alpha, \beta</script></span>都是参数<span><span class="MathJax_Preview">t</span><script type="math/tex">t</script></span>的函数，因此可以归结为：</p>
<p>\begin{align*}
x'(t) &amp;= f(t, x, y) \\\
y'(t) &amp;= g(t, x, y) \\\
\end{align*}</p>
<p>为了套用<span><span class="MathJax_Preview">y'(x)=f(x, y)</span><script type="math/tex">y'(x)=f(x, y)</script></span>的标准形式，我们将上述方程组改写为向量形式<span><span class="MathJax_Preview">Y'=F(t, Y)</span><script type="math/tex">Y'=F(t, Y)</script></span>。其中，</p>
<ul>
<li><span><span class="MathJax_Preview">Y=(x,y)</span><script type="math/tex">Y=(x,y)</script></span>表示待求解微分方程组的各个分量组成的向量，也就是后轮曲线上的<span><span class="MathJax_Preview">x</span><script type="math/tex">x</script></span>和<span><span class="MathJax_Preview">y</span><script type="math/tex">y</script></span>坐标；</li>
<li><span><span class="MathJax_Preview">F=(f,g)</span><script type="math/tex">F=(f,g)</script></span>表示待求解微分方程组的各个控制方程。</li>
</ul>
<p>作为练习，我们当然可以自己实现欧拉方法及其改进算法（例如<code>Runge-Kutta</code>方法）来求解上述问题，但这不是本文的重点。所以我们直接采用Python科学计算库<code>scipy</code>中的<code>odeint()</code>方法来求解常微分方程。</p>
<p><code>odeint()</code>函数声明如下（除了最基本的前三个参数外，这里将其余参数统一用<code>**kw</code>表示），具体参考官方文档[<sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup>]。</p>
<p><pre class="highlight"><code class="language-python">scipy.integrate.odeint(func, y0, t, **kw)</code></pre>
- <code>func</code> 表示待求解的函数对象，默认参数列表<code>callable(Y, t, …)</code>，即待求解变量<code>Y</code>出现在自变量<code>t</code>之前。
    - 如果设置<code>tfirst=True</code>，则改变为<code>callable(t, Y, …)</code>的形式。
    - 如果求解微分方程组，则函数返回值为各个微分方程返回值组成的向量。
- <code>y0</code> 表示给定的初始条件，显然求解微分方程组时<code>y0</code>是一个向量。
- <code>t</code>表示自变量的求解区间或者给定序列，并且**<code>t[0]</code>必须正好对应初始条件<code>y0</code>**。</p>
<p><strong>函数返回值为二维<code>numpy</code>数组，每一行对应给定的自变量序列<code>t</code>的一个值，每一列对应待求解变量<code>y</code>的一个分量</strong>。</p>
<h2 id="python_1">Python求解方案<a class="headerlink" href="#python_1" title="Permanent link">&para;</a></h2>
<p>前两节分别建立了数学模型和给出了求解方法，接下来借助Python实现即可解决自行车轨迹问题了。考虑到微分方程的解依赖于初始条件，也就是说即便前轮走同样的轨迹，后轮轨迹也会因为刚启动自行车时车身姿态（后轮位置）的不同而不同。当初想到这个问题，也正是想探究以不同姿态启动自行车时，后轮是如何追随前轮轨迹的。所以，下面以前轮轨迹参数方程为构造函数参数开始自行车轨迹问题的面向对象求解。</p>
<pre class="highlight"><code class="language-python">import autograd.numpy as np
from autograd import grad
from scipy.integrate import odeint


class BicycleTrack:
    '''
        Solving and plot back wheel track according to front wheel track and 
        initial position of the bicycle.

        The track of front wheel is given by:
            x = fx(t)
            y = fy(t)

        Arguments:
            fx  : function object of front wheel track x component
            fy  : function object of front wheel track y component
    ''' 

    def __init__(self, fx, fy):
        # front wheel track
        self.front_track_x = fx
        self.front_track_y = fy

        # first derivative of front wheel track on parameter t
        self.dfx = grad(fx)
        self.dfy = grad(fy)

        # solved back track represented with t, x, y
        self.t, self.X, self.Y = None, None, None  # back track
        self.FX, self.FY = None, None              # front track</code></pre>
<p>从这个问题的控制方程可知，我们需要求解前轮轨迹的一阶导数，这里借助第三方库<code>autograd</code>来实现[<sup id="fnref:3"><a class="footnote-ref" href="#fn:3">3</a></sup>]。例如上述代码中<code>self.dfx = grad(fx)</code>即得到前轮横坐标参数方程<code>fx</code>的一阶导函数<code>dfx</code>。此外，为了避免使用该库过程中出现未知的问题，平时导入<code>numpy</code>库的代码应改为<code>import autograd.numpy as np</code>。</p>
<p>接下来定义待求解的微分方程组：</p>
<p><pre class="highlight"><code class="language-python">def governing_equation(self, t, Y):
    ''' ODEs of Bicycle Track Problem '''
    x, y = Y
    k1 = np.array([self.dfx(t), self.dfy(t)])
    k2 = np.array([x-self.front_track_x(t), y-self.front_track_y(t)])        
    return np.sum(k1*k2) * k2 / self.L**2</code></pre>
- 本文采用了<code>callable(t, Y, …)</code>形式的参数列表（仅仅因为个人习惯），因此后面被<code>odeint</code>调用时需要指明<code>tfirst=True</code>；
- <code>self.L</code>为自行车车身长度（前后轮毂中心距离），它在给定求解区间和初始条件时被确定。</p>
<p>最后，调用<code>odeint</code>求解数值解：</p>
<pre class="highlight"><code class="language-python">def solve(self, span, P0, num=100):
    ''' 
        span: solving range of parameter t
        P0  : initial position of back wheel (x, y)
    '''

    # initial point of back wheel
    P0 = np.array(P0)

    # initial point of front wheel is defined by parametric equations
    t0, t1 = span
    Q0 = np.array([self.front_track_x(t0), self.front_track_y(t0)])

    # frame length is defined by P0 and Q0
    self.L = np.sum((P0-Q0)**2)**0.5

    # solving
    self.t = np.linspace(t0, t1, num)
    res = odeint(self.governing_equation, P0, self.t, tfirst=True)

    # solved back track
    self.X, self.Y = res[:, 0], res[:, 1]

    # front wheel track
    self.FX, self.FY = self.front_track_x(self.t), self.front_track_y(self.t)</code></pre>
<p><code>self.FX</code>、<code>self.FY</code>、<code>self.X</code>和<code>self.Y</code>分别保存求解后的前后轮横纵坐标值，可以直接用于后续的可视化。</p>
<h2 id="_3">验证<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<p>上文提到仅有少数简单的情形才能得到后轮轨迹的解析表达式，我们以特殊情形之一——<code>曳物线</code>[<sup id="fnref:4"><a class="footnote-ref" href="#fn:4">4</a></sup>,<sup id="fnref:5"><a class="footnote-ref" href="#fn:5">5</a></sup>]为例进行验证。曳物线可以理解为：自行车初始沿着<code>y</code>轴停放且保持前轮正好在原点，然后前轮沿着<code>x</code>轴正方向行进，此时后轮的轨迹即为曳物线。</p>
<ul>
<li>前轮轨迹非常简单：<span><span class="MathJax_Preview">x=t, y=0</span><script type="math/tex">x=t, y=0</script></span></li>
<li>根据曳物线的解析表达式得到后轮轨迹的解析解：<span><span class="MathJax_Preview">x=L\*(t-tanht), y=L\*secht</span><script type="math/tex">x=L\*(t-tanht), y=L\*secht</script></span>（<code>L</code>为车身长度）。</li>
</ul>
<pre class="highlight"><code class="language-python">import numpy as np
import matplotlib.pyplot as plt
from bicycle_track import BicycleTrack

L = 1 # length

# numeric solution
BT = BicycleTrack(lambda t: t, lambda t: 0*t)
BT.solve([0, 5], np.array([0, L]), 50)    

# analytical solution
t = BT.t
x = L*(t-np.sinh(t)/np.cosh(t))
y = L/np.cosh(t)

# plot
plt.plot(BT.X, BT.Y, 'ro', label='numeric solution')
plt.plot(x, y, 'deepskyblue', label='analytical solution')
plt.legend()
plt.show()</code></pre>
<div align='center'><img src="{{ "/images/2019-10-01-06.png" | prepend: site.baseurl }}"></div>

<h2 id="_4">结果展示<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h2>
<p>下面代码画出同一自行车从不同初始状态沿着相同前轮轨迹行进时后轮的轨迹曲线。</p>
<ul>
<li>前轮从原点出发沿着曲线<span><span class="MathJax_Preview">(x-5)^2+y^2=25</span><script type="math/tex">(x-5)^2+y^2=25</script></span>逆时针运动</li>
<li>车身长度<span><span class="MathJax_Preview">L=3</span><script type="math/tex">L=3</script></span>，后轮的初始位置必定在圆<span><span class="MathJax_Preview">x^2+y^2=9</span><script type="math/tex">x^2+y^2=9</script></span>上。这里选取与<span><span class="MathJax_Preview">x</span><script type="math/tex">x</script></span>轴正向夹角<span><span class="MathJax_Preview">\theta</span><script type="math/tex">\theta</script></span>分别为<span><span class="MathJax_Preview">\pi/2, \pi, 3\pi/2</span><script type="math/tex">\pi/2, \pi, 3\pi/2</script></span>的三个初始位置。</li>
</ul>
<pre class="highlight"><code class="language-python">import autograd.numpy as np
from bicycle_track import BicycleTrack
import matplotlib.pyplot as plt

def fx(t):
    return 5+5*np.cos(t)

def fy(t):
    return 5*np.sin(t)

L = 3
span = [-np.pi, np.pi]

fig = plt.figure(tight_layout=True)
colors = ['lightcoral', 'indianred', 'tomato']

BT = BicycleTrack(fx, fy)
for i,c in enumerate(colors):
    theta = (i+1)*np.pi/2.0
    P0 = L*np.array([np.cos(theta), np.sin(theta)])
    BT.solve(span, P0)
    plt.plot(BT.X, BT.Y, color=c, label=r'back track with $\theta={0}\pi$'.format(theta/np.pi))

# front track
plt.plot(BT.FX, BT.FY, color='deepskyblue', label='front track')

# initial position
u = np.linspace(0, 2*np.pi, 50)
plt.plot(L*np.cos(u), L*np.sin(u), '--', color='silver', label='initial position')

plt.legend()
plt.axis('equal')
plt.show()</code></pre>
<div align='center'><img src="{{ "/images/2019-10-01-07.png" | prepend: site.baseurl }}"></div>

<p>图中三条后轮轨迹曲线验证了我最初的一个想法：无论初始位置如何，最终后轮的轨迹将趋于一致。这也是一个很直观的认识，虽然启动自行车时车身姿态（车身方向与目标方向的夹角）略有不同，后轮轨迹在行进一段距离后将稳定地跟随前轮轨迹。</p>
<p>此外，图中还反映了一个有意思的现象：<span><span class="MathJax_Preview">\theta=3\pi/2</span><script type="math/tex">\theta=3\pi/2</script></span>时的后轮轨迹并不“光滑”——初始阶段出现了倒车，而后正常前进。但实际上，普通自行车并不能主动倒车！这表明，虽然数学上这是一组解，但实际上并不真实；也就是说，相对真实的物理模型，我们还漏掉了某些条件。</p>
<p>将自行车瞬时速度分别沿着车身和垂直的车身方向进行分解，普通自行车的结构决定了不能主动倒车，表明沿着车身方向的速度分量必须由后轮指向前轮。这样就决定了车身方向（后轮指向前轮）与行进方向夹角的绝对值<span><span class="MathJax_Preview">\|\delta\|\le\pi/2</span><script type="math/tex">\|\delta\|\le\pi/2</script></span>。</p>
<p>上图中，自行车启动瞬时前轮沿着<span><span class="MathJax_Preview">y</span><script type="math/tex">y</script></span>轴负方向，<span><span class="MathJax_Preview">\theta=3\pi/2</span><script type="math/tex">\theta=3\pi/2</script></span>的曲线初始位置时车身沿着<span><span class="MathJax_Preview">y</span><script type="math/tex">y</script></span>轴正方向，即车身与行进方向夹角<span><span class="MathJax_Preview">\delta=\pi</span><script type="math/tex">\delta=\pi</script></span>违反了上述限定条件，因此这是一组实际骑行中并不可能的解。</p>
<p>最后，以<code>matplotlib</code>动画形式（动画过程具体参考文末汇总代码）直观感受一下上述运动过程：</p>
<div align='center'><img src="{{ "/images/2019-10-01-08.gif" | prepend: site.baseurl }}"></div>

<p><code>BicycleTrack</code>类及主要测试代码汇总如下：</p>
<p><a href="https://github.com/dothinking/blog/blob/master/src/bicycle_track/bicycle_track.py">https://github.com/dothinking/blog/blob/master/src/bicycle_track/bicycle_track.py</a></p>
<hr />
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>[1] <a href="https://gdaymath.com/lessons/gmp/1-9-which-way-did-the-bicycle-go-and-other-bicycle-ponderings/">1.9 Which Way Did the Bicycle Go? – and other bicycle ponderings</a>&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>[2] <a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.integrate.odeint.html">scipy.integrate.odeint</a>&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:3">
<p>[3] <a href="https://github.com/HIPS/autograd">HIPS/autograd</a>&#160;<a class="footnote-backref" href="#fnref:3" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
<li id="fn:4">
<p>[4] <a href="https://www.lfhacks.com/t/tractrix">曳物线</a>&#160;<a class="footnote-backref" href="#fnref:4" title="Jump back to footnote 4 in the text">&#8617;</a></p>
</li>
<li id="fn:5">
<p>[5] <a href="https://www.cnblogs.com/wdfrog/p/5895908.html">曳物线</a>&#160;<a class="footnote-backref" href="#fnref:5" title="Jump back to footnote 5 in the text">&#8617;</a></p>
</li>
</ol>
</div></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Copyright &copy; 2016 - 2021 Dothinking</p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
